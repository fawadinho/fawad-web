<html>

<head>
    <h1>HELLOO</h1>
</head>

<body>
    <script>
        if ('geolocation' in navigator) {
            console.log('geolocation available');
            navigator.geolocation.getCurrentPosition(async position => {
              const lat = position.coords.latitude;
              const lon = position.coords.longitude;
              document.getElementById('Latitude').textContent = lat;
              document.getElementById('Longitude').textContent = lon;

                //console.log(position);

                const data = { lat, lon }
                const options = {
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json'
                  },
                  body: JSON.stringify(data)
                };
                const reponse = await fetch('/api', options);
                const json = await reponse.json();
                console.log(data);
            });
        } else {
            console.log('geolocation not available');
        }
    </script>

    <p>Latitude: <span id="Latitude"> </span> &deg;<br>
      longitude: <span id="Longitude"> </span>&deg;
    </p>
</body>


</html>
